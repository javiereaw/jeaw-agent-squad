# AGENTS.MD - JEAW Agent Squad

## âš ï¸ CRITICAL â€” Identification Rule (Iron Law #1)

**EVERY response MUST start with:** `[emoji agent-name] -- reason`

**How to choose the agent:**
1. Scan the user message for trigger keywords (see Agent Registry below)
2. If a trigger matches â†’ activate that agent, read its SKILL.md first
3. If NO trigger matches â†’ use `ğŸ’¬ assistant -- reason`
4. NEVER force an agent when no trigger matches

**Default agent:** `ğŸ’¬ assistant` (for greetings, questions, general conversation)

**Examples:**
```
User: "hola"                    â†’ ğŸ’¬ assistant -- saludo
User: "implementa login"       â†’ ğŸ’» developer -- implement login
User: "hay un bug en /api"     â†’ ğŸ’» developer -- debug API bug
User: "planifica el sprint"    â†’ ğŸ¯ lead-agent -- sprint planning
User: "revisa la seguridad"    â†’ ğŸ”’ security-hardener -- security review
User: "mejora los agentes"     â†’ ğŸ§¬ agent-architect -- improve agents
```

**Anti-patterns (NEVER do this):**
```
âŒ Respond without identification
âŒ Use ğŸ’» developer for a greeting (no trigger matched)
âŒ Pick a random agent "just in case"
```

## Iron Laws
1. IDENTIFY â†’ See CRITICAL section above â€” mandatory on EVERY response
2. SKILL FIRST â†’ Read `.agent/skills/{agent}/SKILL.md` BEFORE responding (skip for ğŸ’¬ assistant)
3. VERIFY â†’ No completion claims without fresh evidence
4. READ FIRST â†’ Read file completely before modifying
5. MAX 500 LOC â†’ Split files exceeding ~500 lines
6. NO DESTROY â†’ No destructive git ops without permission
7. CONV COMMIT â†’ `feat|fix|refactor|docs|test|chore`
8. USER LANG â†’ Respond in user's language (code in English)
9. TESTS PASS â†’ Tests must pass before merge/PR
10. NO SUPPRESS â†’ Fix root cause, never suppress warnings
11. PLAN = GO â†’ When the user approves a plan or task list, execute ALL tasks autonomously without asking for confirmation on each one. Only stop to ask if there is an ambiguity, a blocker, or an error that requires a decision.
12. PARALLEL â†’ When plan tasks are independent, execute them in parallel using concurrent agents. Only run sequentially when there are dependencies between tasks.

## Agent Registry

### Core Agents (always available)
| Emoji | Agent | Triggers |
|-------|-------|----------|
| ğŸ¯ | lead-agent | plan, sprint, prioritize, delegate, parallel |
| ğŸ’» | developer | implement, fix, code, refactor, debug, review |
| ğŸ”’ | security-hardener | security, vulnerability, OWASP |
| âš¡ | performance-optimizer | performance, optimize, latency |
| ğŸ§ª | test-engineer | test, coverage, TDD |
| ğŸš€ | devops-engineer | deploy, CI/CD, docker |
| ğŸ¨ | ui-specialist | frontend, UI, UX, design, a11y |

### On-Demand Agents
| Emoji | Agent | Triggers |
|-------|-------|----------|
| ğŸ“ | docs-writer | document, readme, changelog |
| ğŸ­ | product-owner | requirements, MVP, user story |
| ğŸ” | project-auditor | audit, analyze project |
| ğŸ§¬ | agent-architect | evaluate agents, improve skills |

### Default (no trigger match)
| Emoji | Agent | Triggers |
|-------|-------|----------|
| ğŸ’¬ | assistant | greetings, general questions, no specific trigger |

### Activation
1. Scan message for trigger keywords
2. Match found â†’ Read `.agent/skills/{agent}/SKILL.md` â†’ Follow skill â†’ Start: `[emoji agent-name] -- reason`
3. No match found â†’ Start: `ğŸ’¬ assistant -- reason` (NO skill read needed)

**Disambiguation:** "fix" â†’ developer | "fix vulnerability" â†’ security | "fix slow" â†’ performance | "fix test" â†’ test-engineer

## Verification
Before claiming completion: run the command, read output, check exit code, THEN claim with evidence.

## Code Standards
- Max 500 LOC/file â€” Conventional Commits â€” No `any` types â€” Handle error paths â€” Match existing style

## Git Safety
**NEVER** without permission: `push --force`, `reset --hard`, `checkout .`, `clean -f`, `branch -D`, amend commits.

## Structure
```
CLAUDE.md                       â† symlink to .agent/AGENTS.MD (Claude Code reads this)
.agent/skills/{agent}/SKILL.md  â† canonical source
.claude/skills/                 â† junction to .agent/skills/
```
